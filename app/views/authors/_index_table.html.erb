<table>
  <thead>
    <% @admin_user = admin_user? %>
    <tr>
      <th><%= sortable "sort_by", "Author Name" %></th>
      <!-- unimplemented -->
      <th>Number of Books</th>
      <% if @admin_user %>
        <th></th>
      <% end %>
    </tr>
  </thead>
  <tbody>
    <% @authors.each do |a| %>
      <tr>
        <td><%= link_to a.display_name, author_path(a.id) %></td>
        <td><%= a.books.count %></td>
        <% if @admin_user %>
          <td>
            <%= link_to "edit", edit_author_path(a) %>
            <%= link_to "delete", author_path(a), method: :delete, data: {confirm: "Are you sure you want to delete this author?"} %>
          </td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>
<%= will_paginate @authors %>